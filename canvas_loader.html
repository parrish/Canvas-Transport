<!DOCTYPE html>
<html>
<body>
  <script type="text/javascript" charset="utf-8">
    !function e(t,r,n){function a(o,d){if(!r[o]){if(!t[o]){var s="function"==typeof require&&require;if(!d&&s)return s(o,!0);if(i)return i(o,!0);throw new Error("Cannot find module '"+o+"'")}var u=r[o]={exports:{}};t[o][0].call(u.exports,function(e){var r=t[o][1][e];return a(r?r:e)},u,u.exports,e,t,r,n)}return r[o].exports}for(var i="function"==typeof require&&require,o=0;o<n.length;o++)a(n[o]);return a}({1:[function(e){e("./transporter")},{"./transporter":2}],2:[function(){var e,t,r;parent.postMessage(JSON.stringify({message:"ready"}),"*"),r={},e=function(e,t){var r;return r=document.createElement(e),r.id=t,document.body.appendChild(r)},t=function(t){var n,a,i;return i=JSON.parse(t.data).path,a=e("img","image-"+i),n=e("canvas","canvas-"+i),r[a.id]={image:a,canvas:n},a.onload=function(){var e,o,d;return d=r[this.id],a=d.image,n=d.canvas,n.width=a.width,n.height=a.height,e=n.getContext("2d"),e.drawImage(a,0,0),o=n.toDataURL("image/png"),parent.postMessage(JSON.stringify({path:i,data:o}),t.origin),delete r[this.id],document.body.removeChild(a),document.body.removeChild(n)},a.src=i},window.addEventListener("message",t,!1)},{}]},{},[1]);
  </script>
</body>
</html>
